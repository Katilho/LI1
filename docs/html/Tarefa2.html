<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa2</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Tarefa2</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Fun&#231;&#245;es de movimento do Pacman</a></li><li><a href="#g:2">Fun&#231;&#245;es de atualiza&#231;&#227;o do score do Pacman</a></li><li><a href="#g:3">Fun&#231;&#227;o de remo&#231;&#227;o de pe&#231;a do labirinto</a></li><li><a href="#g:4">Fun&#231;&#245;es que controlam o n&#186; de vidas do Pacman, bem como a sua atualiza&#231;&#227;o para o estado Dying.</a></li><li><a href="#g:5">Fun&#231;&#245;es de transforma&#231;&#227;o de estado dos Players</a></li><li><a href="#g:6">Fun&#231;&#245;es de teleporte dos fantasmas para a sua casa</a></li><li><a href="#g:7">Fun&#231;&#227;o final</a></li><li><a href="#g:8">Fun&#231;&#245;es complementares para a 2&#170; fase</a></li><li><a href="#g:9">Fun&#231;&#245;es-teste.</a></li></ul></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:movePlayer">movePlayer</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:moveInTunnel">moveInTunnel</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:thePlayer">thePlayer</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:pieceInCoords">pieceInCoords</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Piece" title="Types">Piece</a></li><li class="src short"><a href="#v:testWall">testWall</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; Bool</li><li class="src short"><a href="#v:moveID">moveID</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:movePac">movePac</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:nextPieceSF">nextPieceSF</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; Bool</li><li class="src short"><a href="#v:nextPieceBF">nextPieceBF</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; Bool</li><li class="src short"><a href="#v:nextPieceGh">nextPieceGh</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; Bool</li><li class="src short"><a href="#v:score1ID">score1ID</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:score5ID">score5ID</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:score10ID">score10ID</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:makeScore">makeScore</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:clearFood">clearFood</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:isAliveGhost">isAliveGhost</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; Bool</li><li class="src short"><a href="#v:takeJgdrLife">takeJgdrLife</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:takeLife">takeLife</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:turnToMega">turnToMega</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:oposta">oposta</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></li><li class="src short"><a href="#v:transGhDead">transGhDead</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:makeMega">makeMega</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:resetSpawn">resetSpawn</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:goHome">goHome</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:play">play</a> :: <a href="Types.html#t:Play" title="Types">Play</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:ismouth">ismouth</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:moveMouth">moveMouth</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:areMega">areMega</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; Bool</li><li class="src short"><a href="#v:turnToAlive">turnToAlive</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:checkMegaPl">checkMegaPl</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:checkMega">checkMega</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:checkTimeAux">checkTimeAux</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:checkTimeMg">checkTimeMg</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:m1">m1</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a></li><li class="src short"><a href="#v:testCasesPlay">testCasesPlay</a> :: [(<a href="Types.html#t:Play" title="Types">Play</a>, <a href="Types.html#t:State" title="Types">State</a>)]</li><li class="src short"><a href="#v:testItT2">testItT2</a> :: [(<a href="Types.html#t:Play" title="Types">Play</a>, <a href="Types.html#t:State" title="Types">State</a>)] -&gt; [<a href="Types.html#t:State" title="Types">State</a>]</li><li class="src short"><a href="#v:isOnWall">isOnWall</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Bool</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Fun&#231;&#245;es de movimento do Pacman</h1></a><div class="top"><p class="src"><a id="v:movePlayer" class="def">movePlayer</a> <a href="#v:movePlayer" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>Um determinado <em>Player</em>.</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></td><td class="doc"><p>A orienta&#231;&#227;o dada.</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p><em>Player</em> com as devidas altera&#231;&#245;es na sua posi&#231;&#227;o ou orienta&#231;&#227;o.</p></td></tr></table></div><div class="doc"><p>Faz o Pacman se mover, consoante a orienta&#231;&#227;o dada e a orienta&#231;&#227;o do Pacman.</p></div></div><div class="top"><p class="src"><a id="v:moveInTunnel" class="def">moveInTunnel</a> <a href="#v:moveInTunnel" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>Labirinto onde se encontra o <em>Player</em>.</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>O <em>Player</em> selecionado.</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></td><td class="doc"><p>Orienta&#231;&#227;o ordenada.</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p>O <em>Player</em> selecionado com a respetiva mudan&#231;a na sua posi&#231;&#227;o ou orienta&#231;&#227;o.</p></td></tr></table></div><div class="doc"><p>Faz o Pacman passar pelo t&#250;nel, se estiver para entrar nele, caso contr&#225;rio faz o seu movimento normal b&#225;sico, atrav&#233;s da fun&#231;&#227;o anterior.</p></div></div><div class="top"><p class="src"><a id="v:thePlayer" class="def">thePlayer</a> <a href="#v:thePlayer" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc"><p>Ordem <em>Play</em> dirigida a um determinado <em>Player</em> com uma certa ID. </p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Lista de <em>Player</em>.</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Player" title="Types">Player</a></td><td class="doc"><p><em>Player</em> cuja <em>Play</em> era dirigida, ou seja, o que tem o mesmo ID da <em>Play</em>.</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o auxiliar que devolve o <em>Player</em> ao qual &#233; destinado o <em>Play</em>, ou seja, identifica o jogador com o ID da <em>Play</em>.</p></div></div><div class="top"><p class="src"><a id="v:pieceInCoords" class="def">pieceInCoords</a> <a href="#v:pieceInCoords" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>Coordenadas do labirinto.</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>Respetivo labirinto. </p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Piece" title="Types">Piece</a></td><td class="doc"><p>Pe&#231;a que se encontra nas coordenadas do respetivo labirinto.</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o auxiliar que d&#225; a pe&#231;a que se encontra nas coordenadas do labirinto pedidas.</p></div></div><div class="top"><p class="src"><a id="v:testWall" class="def">testWall</a> <a href="#v:testWall" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc"><p>Jogada. </p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado.</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>No caso de ter uma <em>Wall</em> devolve <em>False</em>, caso contr&#225;rio devolve <em>True</em>.</p></td></tr></table></div><div class="doc"><p>Verifica se a posi&#231;&#227;o para onde o Pacman vai, n&#227;o tem uma pe&#231;a <em>Wall</em>.</p></div></div><div class="top"><p class="src"><a id="v:moveID" class="def">moveID</a> <a href="#v:moveID" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc"><p>Jogada.</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado.</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Devolve um <em>State</em> em que &#233; feita a altera&#231;&#227;o no estado do respetivo <em>Player</em> pretendida com o <em>Play</em>.</p></td></tr></table></div><div class="doc"><p>D&#225; uma lista de players com a altera&#231;&#227;o <em>Play</em> destinada ao <em>Player</em> com o respetivo ID.</p></div></div><div class="top"><p class="src"><a id="v:movePac" class="def">movePac</a> <a href="#v:movePac" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc"><p>Jogada.</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado.</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado em que o <em>Player</em> tem o seu estado alterado consoante a jogada, e que caso haja uma parede no caminho, ele n&#227;o v&#225; para ela.</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o final que se aplicam todas as leis de movimento do Pacman.</p></div></div><a href="#g:2" id="g:2"><h1>Fun&#231;&#245;es de atualiza&#231;&#227;o do score do Pacman</h1></a><div class="top"><p class="src"><a id="v:nextPieceSF" class="def">nextPieceSF</a> <a href="#v:nextPieceSF" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc"><p>Jogada.</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado.</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>Devolve True se nas coordenadas do Player existir uma comida pequena, caso contr&#225;rio devolve False.</p></td></tr></table></div><div class="doc"><p>Verifica se tem uma comida pequena nas coordenadas do Player com o ID do Play.</p></div></div><div class="top"><p class="src"><a id="v:nextPieceBF" class="def">nextPieceBF</a> <a href="#v:nextPieceBF" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc"><p>Jogada. </p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado.</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>Devolve True se nas coordenadas do Player existir uma comida grande, caso contr&#225;rio devolve False.</p></td></tr></table></div><div class="doc"><p>Verifica se tem uma comida grande nas coordenadas do Player com o ID do Play.</p></div></div><div class="top"><p class="src"><a id="v:nextPieceGh" class="def">nextPieceGh</a> <a href="#v:nextPieceGh" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc"><p>Jogada. </p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado.</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>Devolve True se nas coordenadas do Player existir um fantasma morto, caso contr&#225;rio devolve False.</p></td></tr></table></div><div class="doc"><p>Verifica se tem um fantasma morto nas coordenadas do Player com o ID do Play, atrav&#233;s das coordenadas do Player e das coordenadas dos Ghosts Dead, verificando se a coordenada do Player coincide com a coordenada de algum Ghost, com a fun&#231;&#227;o &quot;elem&quot; pr&#233;-definida do Prelude.</p></div></div><div class="top"><p class="src"><a id="v:score1ID" class="def">score1ID</a> <a href="#v:score1ID" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc"><p>Jogada com um determinado ID.</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Conjunto de jogadores.</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Conjunto de jogadores em que o jogador com o ID da <em>Play</em> tem +1 ponto.</p></td></tr></table></div><div class="doc"><p>Aumenta o score do Player com o ID do Play em 1 ponto.</p></div></div><div class="top"><p class="src"><a id="v:score5ID" class="def">score5ID</a> <a href="#v:score5ID" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc"><p>Jogada com um determinado ID.</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Conjunto de jogadores.</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Conjunto de jogadores em que o jogador com o ID da <em>Play</em> tem +5 pontos.</p></td></tr></table></div><div class="doc"><p>Aumenta o score do Player com o ID do Play em 5 pontos.</p></div></div><div class="top"><p class="src"><a id="v:score10ID" class="def">score10ID</a> <a href="#v:score10ID" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc"><p>Jogada com um determinado ID.</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Conjunto de jogadores.</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Conjunto de jogadores em que o jogador com o ID da <em>Play</em> tem +10 pontos.</p></td></tr></table></div><div class="doc"><p>Aumenta o score do Player com o ID do Play em 10 pontos.</p></div></div><div class="top"><p class="src"><a id="v:makeScore" class="def">makeScore</a> <a href="#v:makeScore" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc"><p>Jogada.</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado.</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado atualizado, relativamente ao Score, tendo em conta o que o Pacman comeu.</p></td></tr></table></div><div class="doc"><p>Atualiza os pontos do State ap&#243;s uma jogada, verificando o que ele come para de seguida atribuir a respetiva pontua&#231;&#227;o a esse Pacman atrav&#233;s das fun&#231;&#245;es auxiliares anteriores.</p></div></div><a href="#g:3" id="g:3"><h1>Fun&#231;&#227;o de remo&#231;&#227;o de pe&#231;a do labirinto</h1></a><div class="top"><p class="src"><a id="v:clearFood" class="def">clearFood</a> <a href="#v:clearFood" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc"><p>Jogada.</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado.</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado atualizado relativamente &#224; remo&#231;&#227;o de pe&#231;as do labirinto, comidas pelo Pacman.</p></td></tr></table></div><div class="doc"><p>Retira a comida do labirinto, ap&#243;s ser comida pelo Pacman atrav&#233;s da fun&#231;&#227;o no ficheiro Types, que dado uma coordena, uma pe&#231;a, e um labirinto, ela substitui a pe&#231;a na coordenada pela pe&#231;a pedida, nesse determinado labirinto. Para remover a pe&#231;a comida damos a coordenada do Player, a pe&#231;a Empty e o labirinto do State, para assim remover a pe&#231;a.</p></div></div><a href="#g:4" id="g:4"><h1>Fun&#231;&#245;es que controlam o n&#186; de vidas do Pacman, bem como a sua atualiza&#231;&#227;o para o estado Dying.</h1></a><div class="top"><p class="src"><a id="v:isAliveGhost" class="def">isAliveGhost</a> <a href="#v:isAliveGhost" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc"><p>Jogada.</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado.</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>Devolve True se algum fantasma vivo, est&#225; nas coordenadas do Pacman, caso contr&#225;rio devolve False.</p></td></tr></table></div><div class="doc"><p>Verifica se tem um fantasma vivo nas coordenadas do Player com o ID do Play, atrav&#233;s das coordenadas do Player e das coordenadas dos Ghosts Alive, verificando se a coordenada do Player coincide com a coordenada de algum Ghost com a fun&#231;&#227;o pr&#233;-definida &quot;elem&quot; do Prelude.</p></div></div><div class="top"><p class="src"><a id="v:takeJgdrLife" class="def">takeJgdrLife</a> <a href="#v:takeJgdrLife" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc"><p>Jogada.</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Conjunto de jogadores.</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Conjunto de jogadores, em que &#233; retirado uma vida ou passa a Dying se n&#227;o tiver mais nenhuma, ao <em>Player</em> com a mesma ID da <em>Play</em>.</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o auxiliar que tira uma vida a um Player ou que passa o Pacman para Dying se n&#227;o tiver vidas restantes. </p></div></div><div class="top"><p class="src"><a id="v:takeLife" class="def">takeLife</a> <a href="#v:takeLife" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc"><p>Jogada.</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado.</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado em que se no seu [<em>Player</em>] houver algum Ghost vivo nas coordenadas do Pacman, ent&#227;o &#233; retirado uma vida ou passa a Dying se n&#227;o tiver vidas restantes.</p></td></tr></table></div><div class="doc"><p>Retira uma vida ao Pacman ou passa o Pacman a Dying se n&#227;o tiver vidas restantes, quando o Pacman entra em contacto com um Ghost Alive.</p></div></div><a href="#g:5" id="g:5"><h1>Fun&#231;&#245;es de transforma&#231;&#227;o de estado dos Players</h1></a><div class="top"><p class="src"><a id="v:turnToMega" class="def">turnToMega</a> <a href="#v:turnToMega" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc"><p>Jogada com um determinado ID.</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Conjunto de jogadores.</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Conjunto de jogadores em que o <em>Player</em> com o ID da <em>Play</em>, passa a Mega.</p></td></tr></table></div><div class="doc"><p>Dado uma Play e um conjunto de players, torna o Pacman com o ID da Play em Mega.</p></div></div><div class="top"><p class="src"><a id="v:oposta" class="def">oposta</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> <a href="#v:oposta" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o auxiliar para obter a orienta&#231;&#227;o oposta, necess&#225;ria para a Tarefa 5.</p></div></div><div class="top"><p class="src"><a id="v:transGhDead" class="def">transGhDead</a> <a href="#v:transGhDead" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Conjunto de jogadores.</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Conjunto de jogadores em que os fantasmas que estavam vivos passaram a mortos.</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o auxiliar que transforma um conjunto de fantasmas vivos em fantasmas mortos e dando a orienta&#231;&#227;o oposta &#224; que tinham (a pedido da Tarefa 5), n&#227;o fazendo altera&#231;&#245;es aos Players que n&#227;o s&#227;o fantasmas mortos.</p></div></div><div class="top"><p class="src"><a id="v:makeMega" class="def">makeMega</a> <a href="#v:makeMega" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc"><p>Jogada.</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado.</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado em que se o Pacman entrou em contacto com uma <em>Big Food</em>, ent&#227;o transforma-se em Mega e transforma todos os fantasmas vivos do [<em>Player</em>] em fantasmas mortos. Caso contr&#225;rio, n&#227;o h&#225; altera&#231;&#245;es relativamente ao PacMode do Pacman nem ao estado dos fantasmas.</p></td></tr></table></div><div class="doc"><p>Transforma o Pacman em Mega (caso coma Big Food), consequentemente transformando todos os fantasmas vivos em mortos.</p></div></div><a href="#g:6" id="g:6"><h1>Fun&#231;&#245;es de teleporte dos fantasmas para a sua casa</h1></a><div class="top"><p class="src"><a id="v:resetSpawn" class="def">resetSpawn</a> <a href="#v:resetSpawn" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>Coordenadas pedidas.</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado com um determinado labirinto.</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</td><td class="doc"><p>Conjunto de jogadores em que se um <em>Ghost Dead</em> estiver nas coordenadas pedidas, ele &#233; mandado para as coordenadas obtidas atrav&#233;s da fun&#231;&#227;o auxiliar anterior (que o mandam para a casa dos fantasmas) e o seu estado volta a ser Normal. </p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o auxiliar que manda um Ghost comido pelo Pacman para a casa dos fantasmas, retornando o seu estado para Alive e a sua velocidade para o normal (multiplicando por 2).</p></div></div><div class="top"><p class="src"><a id="v:goHome" class="def">goHome</a> <a href="#v:goHome" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc"><p>Jogada com um determinado ID.</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado.</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado em que se o Pacman com o determinado ID, se encontra nas mesmas coordenadas de um <em>Ghost Dead</em>, ent&#227;o esse <em>Ghost</em> &#233; enviado para a casa dos fantasmas e o seu estado e velocidade voltam ao normal.</p></td></tr></table></div><div class="doc"><p>Dado um <em>Play</em> e um <em>State</em>, d&#225; um <em>State</em> com a altera&#231;&#227;o nas coordenadas e no estado do <em>Ghost</em> comido caso haja algum Pacman que tenha comido um <em>Ghost Dead</em>, caso contr&#225;rio n&#227;o h&#225; altera&#231;&#245;es nas coordenadas nem no estado de nenhum <em>Ghost</em>.</p></div></div><a href="#g:7" id="g:7"><h1>Fun&#231;&#227;o final</h1></a><div class="top"><p class="src"><a id="v:play" class="def">play</a> <a href="#v:play" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc"><p>Jogada.</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado. </p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado final em que dependendo da jogada realizada, o estado &#233; atualizado, tendo em conta todas as a&#231;&#245;es a realizar.</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o final com todas as a&#231;&#245;es que o Pacman tem de realizar no decurso de uma jogada.</p></div></div><a href="#g:8" id="g:8"><h1>Fun&#231;&#245;es complementares para a 2&#170; fase</h1></a><div class="top"><p class="src"><a id="v:ismouth" class="def">ismouth</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:ismouth" class="selflink">#</a></p><div class="doc"><p>Fecha a boca aos Pacmans com boca aberta e vice-versa numa lista de jogadores. (talvez meter um matching para caso o pacman esteja dying)</p></div></div><div class="top"><p class="src"><a id="v:moveMouth" class="def">moveMouth</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> <a href="#v:moveMouth" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o que aplica na lista de jogadores de um <em>State</em>, a fun&#231;&#227;o anterior de fechar e abrir a boca aos Pacmans, consoante o necess&#225;rio. </p></div></div><div class="top"><p class="src"><a id="v:areMega" class="def">areMega</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; Bool <a href="#v:areMega" class="selflink">#</a></p><div class="doc"><p>Verifica se h&#225; algum Pacman no modo Mega.</p></div></div><div class="top"><p class="src"><a id="v:turnToAlive" class="def">turnToAlive</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:turnToAlive" class="selflink">#</a></p><div class="doc"><p>Transforma todos os fantasmas mortos em fantasmas vivos.</p></div></div><div class="top"><p class="src"><a id="v:checkMegaPl" class="def">checkMegaPl</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:checkMegaPl" class="selflink">#</a></p><div class="doc"><p>Transforma os fantasmas mortos em vivos se n&#227;o houver nenhum Pacman no modo Mega.</p></div></div><div class="top"><p class="src"><a id="v:checkMega" class="def">checkMega</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> <a href="#v:checkMega" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o que aplica na lista de jogadores de um <em>State</em>, a fun&#231;&#227;o anterior que transforma os fantasmas mortos em fantasmas vivos se n&#227;o houver nenhum Pacman em modo Mega.</p></div></div><div class="top"><p class="src"><a id="v:checkTimeAux" class="def">checkTimeAux</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:checkTimeAux" class="selflink">#</a></p><div class="doc"><p>Verifica se um Pacman tem MegaTime &lt;= 0 estando em modo Mega, transformando-o para o estado Normal nesse caso. (TALVEZ METER AQUI O TIRAR O TEMPO DO MEGATIME POR PLAY)</p></div></div><div class="top"><p class="src"><a id="v:checkTimeMg" class="def">checkTimeMg</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> <a href="#v:checkTimeMg" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o que aplica na lista de jogadores de um <em>State</em>, a fun&#231;&#227;o anterior que transforma um Pacman para o estado Normal se um Pacman tem MegaTime &lt;= 0 estando em modo Mega.</p></div></div><a href="#g:9" id="g:9"><h1>Fun&#231;&#245;es-teste.</h1></a><div class="top"><p class="src"><a id="v:m1" class="def">m1</a> :: <a href="Types.html#t:Maze" title="Types">Maze</a> <a href="#v:m1" class="selflink">#</a></p><div class="doc"><p>Exemplo de labirinto.</p></div></div><div class="top"><p class="src"><a id="v:testCasesPlay" class="def">testCasesPlay</a> :: [(<a href="Types.html#t:Play" title="Types">Play</a>, <a href="Types.html#t:State" title="Types">State</a>)] <a href="#v:testCasesPlay" class="selflink">#</a></p><div class="doc"><p>Casos de Plays e States para a fun&#231;&#227;o play.</p></div></div><div class="top"><p class="src"><a id="v:testItT2" class="def">testItT2</a> :: [(<a href="Types.html#t:Play" title="Types">Play</a>, <a href="Types.html#t:State" title="Types">State</a>)] -&gt; [<a href="Types.html#t:State" title="Types">State</a>] <a href="#v:testItT2" class="selflink">#</a></p><div class="doc"><p>Testa os casos para a fun&#231;&#227;o play.</p></div></div><div class="top"><p class="src"><a id="v:isOnWall" class="def">isOnWall</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Bool <a href="#v:isOnWall" class="selflink">#</a></p><div class="doc"><p>Testa se algum <em>Player</em> de um <em>State</em>, se encontra indevidamente nas coordenadas de uma <em>Wall</em>, dando <em>True</em> caso haja.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>